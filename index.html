<!doctype html>
<html>
<head>
	<title>dg execution eviron</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF8">
	<script type="text/javascript" src="dg.js" ></script>
</head>
<body>
	<canvas id="testcanvas"></canvas>
	<script type="text/javascript">

		var canvas = dg.Canvas("testcanvas", { border: "1px solid #ccc"});

		var axes = dg.Axes([canvas.width() / 4, canvas.height() / 1.5]).hide(false);
		
		/* point styles */
		/*
		var p1 = dg.Point([1,1]).label("P").color("#00ff00");
		var p2 = dg.Point([2,2]).label("F").size(8);
		dg.Line(p1 , p2);
		*/
		/* weel simulation */
		/*
		var r = 3;
		var o = dg.Point([3,3]).label("O").color("rgb(255, 0, 0)").size(10);
		var p = dg.Point([3, 0]).label("P");
		var c = dg.Circle(o,p);
		
		var n = 8;
		var t = 2 * Math.PI / n;
		var k = -Math.PI;
		var lines = [];
		for(var i = 0; i < n; i++) {

			lines.push(dg.Line(o, dg.Point([r * Math.cos(k) + o.x(), r * Math.sin(k) + o.y() ])).color(dg.color.rand()));
			lines[i].p1().color(dg.color.rand());
			k = t * i;
		}
		
		var interval = setInterval(animate, 30);
		k = -Math.PI;
		var step = 0.01;
		function animate() {
			
			for(var i = 0; i < n; i++) {
				
				lines[i].p1().setX(r * Math.cos(step + i * t) + o.x());
				lines[i].p1().setY(r * Math.sin(step + i * t) + o.y());
			}
			step -= 0.01;
		}
		*/
		/* animation example  */
		/*
		var p0 = dg.Point([0,0]).label("O");
		var p1 = dg.Point([2,0]).label("P");
		var c0 = dg.Circle(p0, p1);
		
		var p2 = dg.Point([2, 3]).label("O1");
		var p3 = dg.Point([3, 4]).label("Q");
		var c1 = dg.Circle(p2, p3);
		
		var p4 = dg.Point([5, 1]).label("O2");
		var p5 = dg.Point([8, 1]).label("R");
		var c2 = dg.Circle(p4, p5).color(dg.color.rand());
		
		dg.Polygon([p1, p3, p5]).color("rgba(0, 200, 0, 0.2)").stroke("rgba(0, 200, 0)");
		
		var interval = setInterval(animate, 30);
		var t = -Math.PI;
		var step = 0.01;
		function animate() {
			var x1 = Math.cos(t) * 2;
			var y1 = Math.sin(t) * 2;
			var x2 = Math.cos(t) * Math.sqrt(2) + p2.x();
			var y2 = Math.sin(t) * Math.sqrt(2) + p2.y();
			var x3 = Math.cos(t) * 3 + p4.x();
			var y3 = Math.sin(t) * 3 + p4.y();
			
			p1.setX(x1).setY(y1);
			p3.setX(x2).setY(y2);
			p5.setX(x3).setY(y3);
			
			t += step;
		}
		*/
		/* intersections dependency test */
		/*
		var p1 = dg.Point([1,1]).label("A");
		var p2 = dg.Point([5,2]).label("B");
		l0 = dg.Line(p1, p2);
		var p3 = dg.Point([7,7]).label("C");
		var p4 = dg.Point([1,-2]).label("D");
		var l1 = dg.Line(p3, p4);
		var intersection = dg.Intersect(l0, l1);
		var pl = dg.PerpendicularLine(intersection, l0);
		var o = dg.Circle(intersection, p2);
		*/
		/* tangent line dependency test */
		/*
		var p1 = dg.Point([1, 1]).label("A");
		var p2 = dg.Point([4, 2]).label("B");		
		var c = dg.Circle(p1,p2);
		var p3 = dg.Point([8, 3]).label("C");
		var poly = dg.Polygon([p1,p2,p3]);
		var t = dg.Tangent(p3, c);
		dg.Line(p3, p1);
		*/
		/* functions */
		/*
		var f = dg.Function(function(x) { return x*x; }, "#ff0000").color(dg.color.rand());
		var f1 = dg.Function(function(x) { return Math.cos(x); }, dg.color.rand());
		var i1 = dg.Intersect(f, f1);
		var f2 = dg.Function(function(x) { return 0; });
		var i3 = dg.Intersect(f1, f2, [-30, 30]);
		var p0 = dg.Point([Math.PI, Math.cos(Math.PI)]);
		var p = dg.PerpendicularLine(p0 , new dg.geom.Line(new dg.geom.Point([0,0]), new dg.geom.Point([1,0])));
		*/
		/* line circle intersection test & angles */
		/*
		var A = dg.Point([-2, 7]).label("A");
		var B = dg.Point([2, 3]).label("B");
		var l = dg.Line(A, B);
		var C = dg.Point([3, 2]).label("C");
		var D = dg.Point([3.2, 3]).label("D");
		var c = dg.Circle(C, D);
		var intersection = dg.Intersect(l, c);
		var angle = dg.Angle(B, C, D);
		*/
		//var p1 = dg.Point([1,1]);
		//var p2 = dg.Point([2.2,2]);
		//var p3 = dg.Point([1, -1]);
		//dg.Angle(p1,p2,p3);
		//dg.Angle(A,C,B);
		
		/* events testing */
		/* midpoint, parallel and perpendicular line dependency */
		/*
		var p1 = dg.Point([1, 1]).label("A");
		console.log(p1);
		var p2 = dg.Point([4, 2]).label("B");
		var l = dg.Line(p1,p2);
		var m = dg.Midpoint(p1,p2);
		var pl = dg.PerpendicularLine(m, l);
		var p3 = dg.Point([0, 3]);
		var prl = dg.ParallelLine(p3, pl);
		dg.PerpendicularLine(p3, prl);
		*/
		/* circumcenter */
		/*
		var p1 = dg.Point([1, 1]).label("A");
		var p2 = dg.Point([4, 5]).label("B");
		var p3 = dg.Point([7,2]).label("C");
		var c = dg.Segment(p1, p2);
		var b = dg.Segment(p2, p3);
		var a = dg.Segment(p3, p1);
		var pa = dg.PerpendicularBisector(a);
		var pb = dg.PerpendicularBisector(b);
		var pc = dg.PerpendicularBisector(c);
		var o = dg.Intersect(pa, pb);
		var circle = dg.Circle(o, p1);
		*/
		/* inscribed circle */
		/*
		var p1 = dg.Point([-1, -1]).label("A");
		var p2 = dg.Point([5, 2]).label("B");
		var p3 = dg.Point([7,-3]).label("C");
		var c = dg.Segment(p1, p2);
		var b = dg.Segment(p2, p3);
		var a = dg.Segment(p3, p1);
		var sa = dg.AngleBisector(p2,p1,p3);
		var sb = dg.AngleBisector(p3,p2,p1);
		var sc = dg.AngleBisector(p1,p3,p2);
		var o = dg.Intersect(sa,sb);
		var pl = dg.PerpendicularLine(o, b);
		var r = dg.Intersect(pl, b);
		var incircle = dg.Circle(o, r);
		*/
		/* orthocenter */
		/*
		var p1 = dg.Point([1, 1]).label("A");
		var p2 = dg.Point([4, 5]).label("B");
		var p3 = dg.Point([7,2]).label("C");
		var c = dg.Segment(p1, p2);
		var b = dg.Segment(p2, p3);
		var a = dg.Segment(p3, p1);
		var pa = dg.PerpendicularLine(p1, b);
		var pb = dg.PerpendicularLine(p2, a);
		var pc = dg.PerpendicularLine(p3, c);
		var o = dg.Intersect(pa, pb);
		*/
		/* regular polygon dependency */
		/*
		var p1 = dg.Point([3, 1]);
		var p2 = dg.Point([5, 2]);
		var poly = dg.Polygon([p1, p2], 6);
		var pl = dg.PerpendicularBisector(new dg.geom.Segment(p1,p2));
		*/
		
		/* construction of tangents from point */
		/*
		var p1 = dg.Point([1, 1]).label("O");
		var p2 = dg.Point([4, 2]).label("B");		
		var c0 = dg.Circle(p1,p2);
		var p3 = dg.Point([8, 3]).label("P");
		var midpoint = dg.Midpoint(p1, p3).label("M");
		var c1 = dg.Circle(midpoint, p3);
		dg.Line(p3, p1);
		var intersections = dg.Intersect(c0, c1);
		dg.Line(p3, intersections[0]);
		dg.Line(p3, intersections[1]);
		*/
		
		
		/*
		var p1 = dg.Point([-1, -1]).label("A");
		var p2 = dg.Point([5, 2]).label("B");		
		var p3 = dg.Point([3, 1]).label("C");
		var p4 = dg.Point([-2, 1]).label("D");
		var p5 = dg.Point([-2, -1]).label("E");
		var p1_p2 = dg.Midpoint(p1, p2).label("M'");
		var a = dg.Line(p1, p2);
		var s = dg.Segment(p1, p3);
		dg.Midpoint(s).label("M''");
		var c = dg.Circle(p1, p3);
		dg.Circle(p4, p5);
		dg.Polygon([p3, p2, p4, p5]);
		var p6 = dg.Point([5,1]).label("F");
		var p7 = dg.Point([7, 1]).label("G");
		dg.Polygon([p6, p7], 6);
		var p8 = dg.Point([-1,-1]).label("H");
		var p9 = dg.Point([-1,-2]).label("I");
		dg.Polygon([p8, p9], 5);
		dg.Polygon([dg.Point([1,4]), dg.Point([0,4])], 7);
		var c = dg.PerpendicularLine(p6, a);
		var p10 = dg.Point([2, -1]).label("J");
		var p11 = dg.Point([3, -1]).label("K");
		var b = dg.Segment(p10, p11);
		dg.PerpendicularBisector(b);
		dg.PerpendicularLine(p11, b);
		dg.ParallelLine(p6, a);
		dg.Angle(p11, p6, p3);
		dg.AngleBisector(p3, p2, p1);
		*/
		
	</script>
</body>
</html>